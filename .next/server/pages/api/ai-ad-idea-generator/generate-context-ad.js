"use strict";(()=>{var e={};e.id=9289,e.ids=[9289],e.modules={8667:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return o}});var o=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},11464:(e,t,o)=>{o.r(t),o.d(t,{config:()=>u,default:()=>d,routeModule:()=>l});var r={};o.r(r),o.d(r,{default:()=>s});var i=o(33480),n=o(8667),a=o(86435);async function s(e,t){if("POST"!==e.method)return t.status(405).json({error:"Method not allowed"});try{let o=e.body,r=o.conversions24h/o.views24h*100<1,i=o.views24h>1e3,n=o.abandonedCheckouts>0,a="Curiosity";o.lowStock&&o.stockLevel<10?a="FOMO":r&&i?a="Curiosity":n?a="Social Proof":"vip"===o.audienceType&&(a="Reward/VIP");let s="";s=r&&i?`${o.views24h} people saw it. Only ${o.conversions24h} ordered. Why?`:o.lowStock?`Only ${o.stockLevel} left in Egypt. Don't miss the drop again.`:n?`Still thinking about it? Here's why ${o.views24h+800}+ already ordered.`:"Why everyone in Egypt is obsessed with this drop...";let d="";d="cold"===o.audienceType?`${o.name} just landed in Egypt — but it won't stay long. 100% authentic. Fast delivery.`:"warm"===o.audienceType?"You've been eyeing this. Here's why it's worth every penny. Limited stock available.":`Hey VIP, this drop was made for you. And yes — we held one aside.`;let u="Instagram"===o.platform?"Instagram Reels":"TikTok",l="FOMO"===a?"Close-up of logo with scarcity overlay, urgent typography":"Lifestyle shot, clean background, zoom into logo",c=[`#${o.name.replace(/\s+/g,"")}EG`,"#LimitedDrop","#FearOfGod","#Streetwear"],y="FOMO"===a?"High CTR - Scarcity":"Curiosity"===a?"High CTR - Curiosity":"Strong Click Intent",p={id:`ad-${Date.now()}`,platform:u,audience:"Male, 18-30, Cairo, visited in 7d",hook:s,copy:d,cta:"FOMO"===a?"Secure Yours":"Shop Now",emotion:"FOMO"===a?"Scarcity / FOMO":"Curiosity / Desire",visualSuggestion:l,hashtags:c,psychologicalAngle:a,segment:o.audienceType,predictedPerformance:y,variants:[],createdAt:new Date};t.status(200).json(p)}catch(e){console.error("Error generating context-aware ad:",e),t.status(500).json({error:"Failed to generate ad"})}}let d=(0,a.M)(r,"default"),u=(0,a.M)(r,"config"),l=new i.PagesAPIRouteModule({definition:{kind:n.A.PAGES_API,page:"/api/ai-ad-idea-generator/generate-context-ad",pathname:"/api/ai-ad-idea-generator/generate-context-ad",bundlePath:"",filename:""},userland:r})},33480:(e,t,o)=>{e.exports=o(75600)},75600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},86435:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,o){return o in t?t[o]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,o)):"function"==typeof t&&"default"===o?t:void 0}}})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var o=t(t.s=11464);module.exports=o})();