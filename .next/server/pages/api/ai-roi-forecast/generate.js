"use strict";(()=>{var e={};e.id=4188,e.ids=[4188],e.modules={4736:(e,t,a)=>{a.r(t),a.d(t,{config:()=>u,default:()=>c,routeModule:()=>m});var r={};a.r(r),a.d(r,{default:()=>s});var n=a(33480),o=a(8667),i=a(86435);let d=e=>{let{productName:t,productType:a,campaignType:r,budget:n,description:o}=e,i={physical:{revenue:3.2,confidence:.85},digital:{revenue:5.1,confidence:.92},bundle:{revenue:4.3,confidence:.88},flash_sale:{revenue:4.8,confidence:.78}},d={instagram:{roi:3.5,engagement:.85},facebook:{roi:3.2,engagement:.78},tiktok:{roi:4.1,engagement:.92},organic:{roi:6.2,engagement:.95},influencer:{roi:3.8,engagement:.82},email:{roi:5.5,engagement:.89},whatsapp:{roi:4.6,engagement:.91}},s={competitorActivity:Math.random()>.7?"High - 3 competitors launching this week":"Low - No major drops detected",cpcTrend:Math.random()>.5?"Down 15% week-over-week":"Stable with 3% increase",audienceEngagement:Math.random()>.6?"High - 4.2% engagement rate":"Medium - 2.8% engagement rate",seasonalFactor:.9+.4*Math.random()},c=n*i[a].revenue,u=d[r].roi,m=i[a].confidence*d[r].engagement,l=c*s.seasonalFactor,g=u*(.9+.4*Math.random()),p=Math.min(95,Math.max(65,100*m+(Math.random()-.5)*20)),h=1.04*n,f=[`${a.charAt(0).toUpperCase()+a.slice(1)} products typically perform ${"digital"===a?"40% better":"25% better"} than average`,`${r.charAt(0).toUpperCase()+r.slice(1)} campaigns show ${100*d[r].engagement}% engagement rate`,s.competitorActivity,s.cpcTrend,`Seasonal factor: ${s.seasonalFactor.toFixed(2)}x multiplier applied`,o?`Custom factors: ${o}`:"Standard market conditions apply"],M=[`Allocate ${Math.floor(30*Math.random()+20)}% budget to ${"instagram"===r?"story-based creatives":"video content"}`,`Target lookalike audiences from previous successful ${a} drops`,"email"===r?"Send 3-email sequence with case studies":"Use retargeting for cart abandoners",`Schedule posts during peak engagement hours (${Math.floor(4*Math.random()+6)}-${Math.floor(4*Math.random()+8)} PM)`];return{id:`forecast-${Date.now()}`,productName:t,productType:a,campaignType:r,budget:n,predictedRevenue:Math.round(l),estimatedSpend:Math.round(h),projectedROI:Math.round(100*g)/100,confidenceLevel:Math.round(p),breakEvenPoint:Math.floor(24/g),dropWindowImpact:1+.5*Math.random(),creativeStrengthScore:Math.floor(70+25*Math.random()),vipEngagementPotential:.6+.3*Math.random(),reasoning:f,recommendations:M,forecastRanges:{bestCase:1.3*g,mostLikely:g,worstCase:.7*g},timeframes:{"24h":{roi:.35*g,revenue:.35*l,spend:h},"3d":{roi:.6*g,revenue:.6*l,spend:h},"7d":{roi:g,revenue:l,spend:h},"14d":{roi:1.15*g,revenue:1.15*l,spend:h}},marketFactors:s,createdAt:new Date().toISOString(),status:"active"}};async function s(e,t){if("POST"===e.method)try{let a=e.body;if(!a.productName||!a.budget||a.budget<=0)return t.status(400).json({error:"Product name and valid budget are required"});await new Promise(e=>setTimeout(e,2e3));let r=d(a);t.status(200).json(r)}catch(e){console.error("Error generating forecast:",e),t.status(500).json({error:"Failed to generate forecast"})}else t.setHeader("Allow",["POST"]),t.status(405).end(`Method ${e.method} Not Allowed`)}let c=(0,i.M)(r,"default"),u=(0,i.M)(r,"config"),m=new n.PagesAPIRouteModule({definition:{kind:o.A.PAGES_API,page:"/api/ai-roi-forecast/generate",pathname:"/api/ai-roi-forecast/generate",bundlePath:"",filename:""},userland:r})},8667:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return a}});var a=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},33480:(e,t,a)=>{e.exports=a(75600)},75600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},86435:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var a=t(t.s=4736);module.exports=a})();