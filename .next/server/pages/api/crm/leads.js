"use strict";(()=>{var e={};e.id=3933,e.ids=[3933],e.modules={8667:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return a}});var a=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},9098:(e,t,a)=>{a.r(t),a.d(t,{config:()=>c,default:()=>d,routeModule:()=>u});var s={};a.r(s),a.d(s,{default:()=>r});var i=a(33480),o=a(8667),n=a(86435);let l=[{id:"lead_001",name:"Ahmed Hassan",email:"ahmed.hassan@company.com",phone:"+201234567890",company:"Tech Solutions Egypt",position:"Marketing Director",source:"Website",status:"Qualified",value:5e4,probability:75,stage:"Proposal",lastContact:"2024-01-20",nextFollowUp:"2024-01-25",notes:"Interested in full marketing automation package",tags:["High Value","Tech","Ready to Buy"],activities:[{type:"call",date:"2024-01-20",notes:"Discussed requirements"},{type:"email",date:"2024-01-19",notes:"Sent proposal"},{type:"meeting",date:"2024-01-18",notes:"Initial discovery call"}],aiInsights:{readinessScore:85,riskFactors:["Budget constraints","Competition"],recommendedActions:["Send case study","Schedule demo"],nextBestAction:"Follow up with ROI calculation"}},{id:"lead_002",name:"Sara Mahmoud",email:"sara.mahmoud@retail.com",phone:"+201234567891",company:"Fashion Retail Egypt",position:"CEO",source:"Referral",status:"New",value:25e3,probability:40,stage:"Discovery",lastContact:"2024-01-22",nextFollowUp:"2024-01-24",notes:"Looking for social media management solution",tags:["Retail","Startup","Budget Conscious"],activities:[{type:"email",date:"2024-01-22",notes:"Initial outreach"},{type:"call",date:"2024-01-21",notes:"Qualification call"}],aiInsights:{readinessScore:60,riskFactors:["Limited budget","Decision making process"],recommendedActions:["Send pricing guide","Book discovery call"],nextBestAction:"Send value proposition email"}},{id:"lead_003",name:"Mohamed Ali",email:"mohamed.ali@restaurant.com",phone:"+201234567892",company:"Cairo Cuisine",position:"Owner",source:"Social Media",status:"Contacted",value:15e3,probability:90,stage:"Negotiation",lastContact:"2024-01-23",nextFollowUp:"2024-01-26",notes:"Ready to sign, just finalizing terms",tags:["Restaurant","High Probability","Quick Close"],activities:[{type:"meeting",date:"2024-01-23",notes:"Contract discussion"},{type:"email",date:"2024-01-22",notes:"Proposal sent"},{type:"call",date:"2024-01-21",notes:"Requirements gathering"}],aiInsights:{readinessScore:95,riskFactors:["Price sensitivity"],recommendedActions:["Send contract","Schedule signing"],nextBestAction:"Close the deal with final proposal"}}];function r(e,t){if("GET"===e.method){let{status:a,stage:s,source:i,search:o}=e.query,n=[...l];if(a&&(n=n.filter(e=>e.status===a)),s&&(n=n.filter(e=>e.stage===s)),i&&(n=n.filter(e=>e.source===i)),o){let e=o.toString().toLowerCase();n=n.filter(t=>t.name.toLowerCase().includes(e)||t.company.toLowerCase().includes(e)||t.email.toLowerCase().includes(e))}t.status(200).json({success:!0,data:n,total:n.length,summary:{totalValue:n.reduce((e,t)=>e+t.value,0),averageProbability:Math.round(n.reduce((e,t)=>e+t.probability,0)/n.length),highValueLeads:n.filter(e=>e.value>3e4).length,readyToClose:n.filter(e=>e.probability>80).length}})}else if("POST"===e.method){let a={id:`lead_${Date.now()}`,...e.body,aiInsights:{readinessScore:Math.floor(40*Math.random())+60,riskFactors:["New lead - needs qualification"],recommendedActions:["Schedule discovery call","Send welcome email"],nextBestAction:"Qualify lead with discovery call"}};l.push(a),t.status(201).json({success:!0,data:a,message:"Lead created successfully"})}else if("PUT"===e.method){let{id:a}=e.query,s=l.findIndex(e=>e.id===a);if(-1===s)return t.status(404).json({error:"Lead not found"});l[s]={...l[s],...e.body},t.status(200).json({success:!0,data:l[s],message:"Lead updated successfully"})}else if("DELETE"===e.method){let{id:a}=e.query,s=l.findIndex(e=>e.id===a);if(-1===s)return t.status(404).json({error:"Lead not found"});l.splice(s,1),t.status(200).json({success:!0,message:"Lead deleted successfully"})}else t.setHeader("Allow",["GET","POST","PUT","DELETE"]),t.status(405).json({error:"Method not allowed"})}let d=(0,n.M)(s,"default"),c=(0,n.M)(s,"config"),u=new i.PagesAPIRouteModule({definition:{kind:o.A.PAGES_API,page:"/api/crm/leads",pathname:"/api/crm/leads",bundlePath:"",filename:""},userland:s})},33480:(e,t,a)=>{e.exports=a(75600)},75600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},86435:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var a=t(t.s=9098);module.exports=a})();