"use strict";(()=>{var e={};e.id=7469,e.ids=[7469],e.modules={8667:(e,s)=>{Object.defineProperty(s,"A",{enumerable:!0,get:function(){return n}});var n=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},27971:(e,s,n)=>{n.r(s),n.d(s,{config:()=>d,default:()=>l,routeModule:()=>m});var i={};n.r(i),n.d(i,{default:()=>t});var o=n(33480),r=n(8667),a=n(86435);let c=[{campaignId:"camp_001",campaignName:"BAPE Summer Collection",platform:"facebook",spend:2500,clicks:890,sessions:456,conversions:23,revenue:6870,roas:2.75,aiAnalysis:"Strong performance with good ROAS. Consider scaling budget",lastUpdated:new Date,deviceBreakdown:{mobile:{clicks:623,sessions:319,conversions:16,revenue:4809},desktop:{clicks:178,sessions:91,conversions:5,revenue:1505},tablet:{clicks:89,sessions:46,conversions:2,revenue:556}},audienceBreakdown:{new:{clicks:534,sessions:274,conversions:12,revenue:3600},returning:{clicks:356,sessions:182,conversions:11,revenue:3270}}},{campaignId:"camp_002",campaignName:"Limited Edition Drop",platform:"instagram",spend:1800,clicks:645,sessions:334,conversions:19,revenue:5680,roas:3.16,aiAnalysis:"Excellent ROAS performance. High engagement with limited edition products",lastUpdated:new Date,deviceBreakdown:{mobile:{clicks:452,sessions:234,conversions:13,revenue:3976},desktop:{clicks:129,sessions:67,conversions:4,revenue:1136},tablet:{clicks:64,sessions:33,conversions:2,revenue:568}},audienceBreakdown:{new:{clicks:387,sessions:200,conversions:10,revenue:2980},returning:{clicks:258,sessions:134,conversions:9,revenue:2700}}},{campaignId:"camp_003",campaignName:"Retargeting Campaign",platform:"google",spend:1200,clicks:445,sessions:234,conversions:15,revenue:4450,roas:3.71,aiAnalysis:"High ROAS retargeting campaign. Effective at converting warm leads",lastUpdated:new Date,deviceBreakdown:{mobile:{clicks:312,sessions:164,conversions:11,revenue:3115},desktop:{clicks:89,sessions:47,conversions:3,revenue:890},tablet:{clicks:44,sessions:23,conversions:1,revenue:445}},audienceBreakdown:{new:{clicks:89,sessions:47,conversions:2,revenue:890},returning:{clicks:356,sessions:187,conversions:13,revenue:3560}}},{campaignId:"camp_004",campaignName:"TikTok Brand Awareness",platform:"tiktok",spend:3200,clicks:1234,sessions:678,conversions:28,revenue:8400,roas:2.63,aiAnalysis:"Good brand awareness campaign with decent conversion rates",lastUpdated:new Date,deviceBreakdown:{mobile:{clicks:1111,sessions:610,conversions:25,revenue:7560},desktop:{clicks:74,sessions:41,conversions:2,revenue:600},tablet:{clicks:49,sessions:27,conversions:1,revenue:240}},audienceBreakdown:{new:{clicks:1111,sessions:610,conversions:25,revenue:7560},returning:{clicks:123,sessions:68,conversions:3,revenue:840}}},{campaignId:"camp_005",campaignName:"Email Newsletter",platform:"email",spend:500,clicks:234,sessions:123,conversions:8,revenue:2400,roas:4.8,aiAnalysis:"Excellent email campaign performance. High ROAS with engaged audience",lastUpdated:new Date,deviceBreakdown:{mobile:{clicks:164,sessions:86,conversions:6,revenue:1680},desktop:{clicks:47,sessions:25,conversions:1,revenue:480},tablet:{clicks:23,sessions:12,conversions:1,revenue:240}},audienceBreakdown:{new:{clicks:47,sessions:25,conversions:1,revenue:480},returning:{clicks:187,sessions:98,conversions:7,revenue:1920}}}];async function t(e,s){if("GET"!==e.method)return s.status(405).json({error:"Method not allowed"});try{await new Promise(e=>setTimeout(e,140));let n=[...c],{platform:i,roas:o,spend:r}=e.query;if(i&&"all"!==i&&(n=n.filter(e=>e.platform===i)),o){let e=parseFloat(o);n=n.filter(s=>s.roas>=e)}if(r){let e=parseFloat(r);n=n.filter(s=>s.spend<=e)}let a=n.length,t=n.reduce((e,s)=>e+s.spend,0),l=n.reduce((e,s)=>e+s.revenue,0),d=n.reduce((e,s)=>e+s.conversions,0),m=n.reduce((e,s)=>e+s.roas,0)/a,u=n.reduce((e,s)=>e+s.clicks,0),p=n.reduce((e,s)=>e+s.sessions,0),v={topPerformingCampaigns:n.sort((e,s)=>s.roas-e.roas).slice(0,3).map(e=>({name:e.campaignName,roas:e.roas,revenue:e.revenue})),platformPerformance:{facebook:{campaigns:n.filter(e=>"facebook"===e.platform).length,avgRoas:n.filter(e=>"facebook"===e.platform).reduce((e,s)=>e+s.roas,0)/n.filter(e=>"facebook"===e.platform).length||0},instagram:{campaigns:n.filter(e=>"instagram"===e.platform).length,avgRoas:n.filter(e=>"instagram"===e.platform).reduce((e,s)=>e+s.roas,0)/n.filter(e=>"instagram"===e.platform).length||0},google:{campaigns:n.filter(e=>"google"===e.platform).length,avgRoas:n.filter(e=>"google"===e.platform).reduce((e,s)=>e+s.roas,0)/n.filter(e=>"google"===e.platform).length||0},tiktok:{campaigns:n.filter(e=>"tiktok"===e.platform).length,avgRoas:n.filter(e=>"tiktok"===e.platform).reduce((e,s)=>e+s.roas,0)/n.filter(e=>"tiktok"===e.platform).length||0},email:{campaigns:n.filter(e=>"email"===e.platform).length,avgRoas:n.filter(e=>"email"===e.platform).reduce((e,s)=>e+s.roas,0)/n.filter(e=>"email"===e.platform).length||0}},devicePerformance:{mobile:{clicks:n.reduce((e,s)=>e+s.deviceBreakdown.mobile.clicks,0),conversions:n.reduce((e,s)=>e+s.deviceBreakdown.mobile.conversions,0),revenue:n.reduce((e,s)=>e+s.deviceBreakdown.mobile.revenue,0)},desktop:{clicks:n.reduce((e,s)=>e+s.deviceBreakdown.desktop.clicks,0),conversions:n.reduce((e,s)=>e+s.deviceBreakdown.desktop.conversions,0),revenue:n.reduce((e,s)=>e+s.deviceBreakdown.desktop.revenue,0)},tablet:{clicks:n.reduce((e,s)=>e+s.deviceBreakdown.tablet.clicks,0),conversions:n.reduce((e,s)=>e+s.deviceBreakdown.tablet.conversions,0),revenue:n.reduce((e,s)=>e+s.deviceBreakdown.tablet.revenue,0)}}},g=[],k=n.filter(e=>e.roas<2.5);k.length>0&&g.push({type:"optimization",priority:"high",campaigns:k.map(e=>e.campaignName),action:"Optimize low ROAS campaigns or consider pausing underperforming ones"});let f=n.filter(e=>e.roas>3);return f.length>0&&g.push({type:"opportunity",priority:"medium",campaigns:f.map(e=>e.campaignName),action:"Scale high ROAS campaigns with increased budget allocation"}),s.status(200).json({success:!0,data:{campaigns:n,metrics:{totalCampaigns:a,totalSpend:t,totalRevenue:l,totalConversions:d,avgRoas:Math.round(100*m)/100,totalClicks:u,totalSessions:p},insights:v,recommendations:g}})}catch(e){return console.error("Campaigns API error:",e),s.status(500).json({success:!1,error:"Failed to load campaign data"})}}let l=(0,a.M)(i,"default"),d=(0,a.M)(i,"config"),m=new o.PagesAPIRouteModule({definition:{kind:r.A.PAGES_API,page:"/api/website-analytics/campaigns",pathname:"/api/website-analytics/campaigns",bundlePath:"",filename:""},userland:i})},33480:(e,s,n)=>{e.exports=n(75600)},75600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},86435:(e,s)=>{Object.defineProperty(s,"M",{enumerable:!0,get:function(){return function e(s,n){return n in s?s[n]:"then"in s&&"function"==typeof s.then?s.then(s=>e(s,n)):"function"==typeof s&&"default"===n?s:void 0}}})}};var s=require("../../../webpack-api-runtime.js");s.C(e);var n=s(s.s=27971);module.exports=n})();